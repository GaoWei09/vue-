(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6869e08a"],{"0b42":function(e,t,r){var a=r("da84"),n=r("e8b5"),o=r("68ee"),s=r("861d"),l=r("b622"),i=l("species"),u=a.Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,o(t)&&(t===u||n(t.prototype))?t=void 0:s(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?u:t}},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},1692:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"nav-top"},[r("h1",[e._v("BUG"+e._s(e.$t("lang.managementSystem")))]),r("h3",[e._v(e._s(e.$t("lang.itemProject")))]),r("div",{staticClass:"user"},[r("p",[e._v(e._s(e.$t("lang.welcome"))+":"+e._s(e.username))]),r("p",{on:{click:e.gotoHome}},[e._v(e._s(e.$t("lang.exist")))])]),r("el-select",{attrs:{placeholder:"中文"},on:{change:e.changeLang},model:{value:e.language,callback:function(t){e.language=t},expression:"language"}},[r("el-option",{attrs:{label:"english",value:"en"}}),r("el-option",{attrs:{label:"中文",value:"zh"}})],1)],1),r("el-tabs",{attrs:{"tab-position":e.tabPosition},on:{"tab-click":e.change}},[r("el-tab-pane",{attrs:{label:e.$t("lang.personalRegister")}},[r("add-user")],1),r("el-tab-pane",{attrs:{label:e.$t("lang.personalFind")}},[r("find-user")],1),r("el-tab-pane",{attrs:{label:e.$t("lang.bugFind")}},[r("all-bugs")],1),r("el-tab-pane",{attrs:{label:e.$t("lang.echarts")}},[r("echart-statis")],1)],1)],1)},n=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:e.$t("lang.username"),prop:"username"}},[r("el-input",{attrs:{type:"text"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),r("el-form-item",{attrs:{label:e.$t("lang.type")}},[r("el-select",{attrs:{placeholder:e.$t("lang.type")},model:{value:e.ruleForm.type,callback:function(t){e.$set(e.ruleForm,"type",t)},expression:"ruleForm.type"}},[r("el-option",{attrs:{label:"开发者",value:"2"}}),r("el-option",{attrs:{label:"测试者",value:"3"}})],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v(e._s(e.$t("lang.submit")))]),r("el-button",{on:{click:function(t){return e.resetForm()}}},[e._v(e._s(e.$t("lang.reset")))])],1)],1)],1)},s=[],l=r("1da1"),i=(r("96cf"),r("1f09")),u={data:function(){return{labelPosition:"right",ruleForm:{username:"",type:""},rules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"},{pattern:/^[a-zA-Z][0-9a-zA-Z]{2,11}$/,message:"用户名3-12位,以字母开头,允许数字字母构成",trigger:"blur"}]}}},methods:{submitForm:function(){var e=this;this.$refs.ruleForm.validate(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(r){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=9;break}return t.next=3,i["a"].register({username:e.ruleForm.username,type:e.ruleForm.type});case 3:a=t.sent,n=a.data,console.log(n),n.code?e.$message.success(n.msg):e.$message.error(n.msg),t.next=11;break;case 9:return console.log("error submit!!"),t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.ruleForm.username="",this.ruleForm.type=""},resetForm:function(){this.$refs.ruleForm.resetFields(),this.dialogFormVisible=!1,this.ruleForm.username="",this.ruleForm.type=""}}},c=u,m=(r("dc79"),r("2877")),f=Object(m["a"])(c,o,s,!1,null,null,null),d=f.exports,p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.userList,border:""}},[r("el-table-column",{attrs:{fixed:"",prop:"username",label:e.$t("lang.username")}}),r("el-table-column",{attrs:{fixed:"",prop:"type",label:e.$t("lang.type")}})],1)],1)},b=[],g={data:function(){return{userList:[]}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].manage({});case 2:r=t.sent,a=r.data,a.code&&(e.userList=a.data);case 5:case"end":return t.stop()}}),t)})))()}},h=g,v=Object(m["a"])(h,p,b,!1,null,null,null),y=v.exports,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("点击进行筛选")]),r("el-dialog",{attrs:{title:"筛选",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"ruleForm",attrs:{model:e.form}},[r("el-form-item",{attrs:{label:"人员姓名"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1),r("el-form-item",{attrs:{label:"bug状态"}},[r("el-select",{attrs:{placeholder:"请选择要查看bug状态"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[r("el-option",{attrs:{label:"待修复",value:"1"}}),r("el-option",{attrs:{label:"待测试",value:"2"}}),r("el-option",{attrs:{label:"已完成",value:"3"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),r("el-button",{on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.allBugList,border:""}},[r("el-table-column",{attrs:{fixed:"",prop:"username",label:"开发名称"}}),r("el-table-column",{attrs:{fixed:"",prop:"bugreason",label:"bug原因"}}),r("el-table-column",{attrs:{fixed:"",prop:"value",label:"bug等级"}}),r("el-table-column",{attrs:{fixed:"",prop:"start",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.dateFormate(t.row.start,"yyyy年mm月dd日"))+" ")]}}])}),r("el-table-column",{attrs:{fixed:"",prop:"extend",label:"附件"}}),r("el-table-column",{attrs:{fixed:"right",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.type?r("el-button",{attrs:{type:"danger"}},[e._v("待修复")]):e._e(),2==t.row.type?r("el-button",{attrs:{type:"warning"}},[e._v("待测试")]):e._e(),3==t.row.type?r("el-button",{attrs:{type:"success"}},[e._v("已完成")]):e._e()]}}])})],1),r("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total,"page-size":e.pagesize},on:{"current-change":e.changePage}})],1)},w=[],F=(r("ac1f"),r("841c"),r("ce0d")),k={allbug:function(e){return Object(F["a"])({method:"get",url:"/api/bugs/all",params:e,headers:{token:window.localStorage.getItem("token")}})},group:function(){return Object(F["a"])({method:"get",url:"/api/bugs/group",headers:{token:window.localStorage.getItem("token")}})}},_={data:function(){return{dialogFormVisible:!1,allBugList:[],form:{key:"",type:""},total:50,pagesize:5,page:1}},watch:{key:function(){this.page=1,this.search()},type:function(){this.page=1,this.search()}},methods:{submitForm:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.search(),e.resetForm()}))},resetForm:function(){this.$refs.ruleForm.resetFields(),this.dialogFormVisible=!1},changePage:function(e){this.page=e,this.search()},search:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.allbug({key:e.form.key,type:e.form.type,page:e.page,shownum:e.pagesize});case 2:r=t.sent,a=r.data,e.allBugList=a.data,e.total=a.total;case 6:case"end":return t.stop()}}),t)})))()}},created:function(){this.search()}},$=_,L=Object(m["a"])($,x,w,!1,null,null,null),O=L.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"mychart"},[r("div",{ref:"main",attrs:{id:"main"}}),r("div",{ref:"main2",attrs:{id:"main2"}})])])},S=[],R=(r("d81d"),r("164e")),A={data:function(){return{xList:[],yList:[],list:[]}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.myChart=R["init"](e.$refs.main),e.myChart2=R["init"](e.$refs.main2),t.next=4,k.group();case 4:r=t.sent,a=r.data,console.log(a),e.list=a.data.map((function(e){var t={};return t.value=e.count,t.name=e._id,t})),e.xList=a.data.map((function(e){return e._id})),e.yList=a.data.map((function(e){return e.count})),n={xAxis:{type:"category",data:e.xList},yAxis:{type:"value"},series:[{data:e.yList,type:"bar",showBackground:!0,barWidth:40,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}]},o={tooltip:{trigger:"item"},legend:{top:"5%",left:"center"},series:[{name:"Access From",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:e.list}]},e.myChart.setOption(n),e.myChart2.setOption(o);case 14:case"end":return t.stop()}}),t)})))()}},C=A,I=(r("ef96"),Object(m["a"])(C,j,S,!1,null,"21026348",null)),z=I.exports,B={data:function(){return{tabPosition:"left",username:"",language:""}},methods:{change:function(e){},gotoHome:function(){window.localStorage.removeItem("token"),window.localStorage.removeItem("userinfo"),this.$router.push("/")},changeLang:function(){this.$i18n.locale=this.language}},components:{addUser:d,findUser:y,allBugs:O,echartStatis:z},created:function(){this.username=window.localStorage.getItem("userinfo")}},E=B,P=(r("c591"),Object(m["a"])(E,a,n,!1,null,"723de1ac",null));t["default"]=P.exports},"1dde":function(e,t,r){var a=r("d039"),n=r("b622"),o=r("2d00"),s=n("species");e.exports=function(e){return o>=51||!a((function(){var t=[],r=t.constructor={};return r[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,r){var a=r("0b42");e.exports=function(e,t){return new(a(e))(0===t?0:t)}},"841c":function(e,t,r){"use strict";var a=r("c65b"),n=r("d784"),o=r("825a"),s=r("1d80"),l=r("129f"),i=r("577e"),u=r("dc4a"),c=r("14c3");n("search",(function(e,t,r){return[function(t){var r=s(this),n=void 0==t?void 0:u(t,e);return n?a(n,t,r):new RegExp(t)[e](i(r))},function(e){var a=o(this),n=i(e),s=r(t,a,n);if(s.done)return s.value;var u=a.lastIndex;l(u,0)||(a.lastIndex=0);var m=c(a,n);return l(a.lastIndex,u)||(a.lastIndex=u),null===m?-1:m.index}]}))},"9b46":function(e,t,r){},b727:function(e,t,r){var a=r("0366"),n=r("e330"),o=r("44ad"),s=r("7b0b"),l=r("07fa"),i=r("65f0"),u=n([].push),c=function(e){var t=1==e,r=2==e,n=3==e,c=4==e,m=6==e,f=7==e,d=5==e||m;return function(p,b,g,h){for(var v,y,x=s(p),w=o(x),F=a(b,g),k=l(w),_=0,$=h||i,L=t?$(p,k):r||f?$(p,0):void 0;k>_;_++)if((d||_ in w)&&(v=w[_],y=F(v,_,x),e))if(t)L[_]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return _;case 2:u(L,v)}else switch(e){case 4:return!1;case 7:u(L,v)}return m?-1:n||c?c:L}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},bcc7:function(e,t,r){},c591:function(e,t,r){"use strict";r("e149")},d81d:function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").map,o=r("1dde"),s=o("map");a({target:"Array",proto:!0,forced:!s},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},dc79:function(e,t,r){"use strict";r("bcc7")},e149:function(e,t,r){},e8b5:function(e,t,r){var a=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}},ef96:function(e,t,r){"use strict";r("9b46")}}]);